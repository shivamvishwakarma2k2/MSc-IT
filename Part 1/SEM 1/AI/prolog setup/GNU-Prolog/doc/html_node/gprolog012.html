<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="generator" content="hevea 2.32">

<meta name="Author" content="Daniel Diaz">
<meta name="Keywords" content="GNU Prolog, manual, Prolog, compiler, constraints, finite domains">
<link rel="icon" type="image/x-icon" href="/gprolog.ico"><link rel="stylesheet" type="text/css" href="gprolog.css">
<title>The procedure box model</title>
</head>
<body TEXT=black BGCOLOR=white>
<a href="gprolog011.html"><img src="previous_motif.svg" alt="Previous"></a>
<a href="gprolog010.html"><img src="contents_motif.svg" alt="Up"></a>
<a href="gprolog013.html"><img src="next_motif.svg" alt="Next"></a>
<hr>
<h3 class="subsection" id="sec24">5.2&#XA0;&#XA0;The procedure box model</h3>
<p>
The procedure box model of Prolog execution provides a simple way to show
the control flow. This model is very popular and has been adopted in many
Prolog systems (e.g. SICStus Prolog, Quintus Prolog,&#X2026;). A good
introduction is the chapter 8 of &#X201C;Programming in Prolog&#X201D; of Clocksin &amp;
Mellish&#XA0;[<a href="gprolog073.html#Clock">2</a>]. The debugger executes a program step by step tracing an
invocation to a predicate (<span class="c003">call</span>) and the return from this predicate
due to either a success (<span class="c003">exit</span>) or a failure (<span class="c003">fail</span>). When a
failure occurs the execution backtracks to the last predicate with an
alternative clause. The predicate is then re-invoked (<span class="c003">redo</span>).
Another source of change of the control flow is due to exceptions. When an
exception is raised from a predicate (<span class="c003">exception</span>) by
<a id="hevea_default152"></a><span class="c003">throw/1</span> (section&#XA0;<a href="gprolog023.html#catch%2F3">7.2.4</a>) the control is given back to the most
recent predicate that has defined a handler to recover this exception using
<a id="hevea_default153"></a><span class="c003">catch/3</span> (section&#XA0;<a href="gprolog023.html#catch%2F3">7.2.4</a>). The procedure box model shows these
different changes in the control flow, as illustrated here:</p><div class="center"><img src="debug-box.png"></div><p>Each arrow corresponds to a <em>port</em>. An arrow to the box indicates
that the control is given to this predicate while an arrow from the box
indicates that the control is given back from the procedure. This model
visualizes the control flow through these five ports and the connections
between the boxes associated with subgoals. Finally, it should be clear that a
box is associated with one invocation of a given predicate. In particular, a
recursive predicate will give raise to a box for each invocation of the
predicate with different entries/exits in the control flow. Since this might
get confusing for the user, the debugger associates with each box a unique
identifier (i.e. the invocation number).</p>

<hr class="c011">
Copyright (C) 1999-2021 Daniel Diaz
Verbatim copying and distribution of this entire article is permitted in any
medium, provided this notice is preserved. <a href="index.html#copyright">More about the copyright</a>
<hr>
<a href="gprolog011.html"><img src="previous_motif.svg" alt="Previous"></a>
<a href="gprolog010.html"><img src="contents_motif.svg" alt="Up"></a>
<a href="gprolog013.html"><img src="next_motif.svg" alt="Next"></a>
</body>
</html>
